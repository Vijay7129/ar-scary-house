<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0"/>
  <title>AR Scary House</title>
  <style>
    body,html{height:100%;margin:0;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
    .container {text-align:center;padding:24px;max-width:500px;}
    h1 {font-size:2.5em;margin:0 0 12px;background:linear-gradient(135deg,#ff0000,#ff6600);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
    .subtitle {font-size:1.1em;opacity:0.85;margin-bottom:32px;line-height:1.5;}
    .btn-group {display:flex;flex-direction:column;gap:16px;margin-bottom:32px;}
    button, a.button {padding:16px 28px;border-radius:12px;border:0;background:linear-gradient(135deg,#ff0000,#cc0000);color:#fff;font-weight:700;font-size:1.1em;box-shadow:0 6px 20px rgba(255,0,0,0.4);cursor:pointer;transition:all 0.3s;text-decoration:none;display:block;}
    button:hover, a.button:hover {transform:translateY(-2px);box-shadow:0 8px 24px rgba(255,0,0,0.6);}
    .secondary {background:linear-gradient(135deg,#333,#111)!important;box-shadow:0 6px 20px rgba(0,0,0,0.4)!important;}
    .secondary:hover {box-shadow:0 8px 24px rgba(0,0,0,0.6)!important;}
    .instructions {background:rgba(255,255,255,0.05);padding:16px;border-radius:8px;font-size:0.9em;line-height:1.6;margin-top:24px;border-left:3px solid #ff0000;}
    .instructions ol {text-align:left;margin:8px 0 0 0;padding-left:24px;}
    .instructions li {margin:8px 0;}
    .warning {background:rgba(255,0,0,0.1);padding:12px;border-radius:6px;margin-top:16px;font-size:0.85em;border:1px solid rgba(255,0,0,0.3);}
    #audioControl {display:none;margin-top:24px;}
    .audio-playing {color:#00ff00;font-weight:600;}
  </style>
</head>
<body>
  <div class="container">
    <h1>üèöÔ∏è AR Scary House</h1>
    <div class="subtitle">Experience horror in your real world with AR technology</div>
    
    <div class="btn-group">
      <a href="https://app.vectary.com/p/17pWaesFZN38b8iqw7SEJA" target="_blank" class="button" id="openAR">
        üéÉ Launch AR Experience
      </a>
      <button class="button secondary" id="enableAudio">üîä Enable Scary Audio</button>
      <button class="button secondary" id="jumpscare">üò± Trigger Jumpscare</button>
    </div>

    <div id="audioControl">
      <div class="audio-playing">‚úì Audio Enabled - Volume Up!</div>
    </div>

    <div class="instructions">
      <strong>üì± How to Use:</strong>
      <ol>
        <li><strong>Enable Audio</strong> first (tap the button above)</li>
        <li><strong>Launch AR Experience</strong> - opens in new tab</li>
        <li>In Vectary viewer, tap the <strong>AR icon</strong> (cube with camera)</li>
        <li>Point your phone camera at the ground</li>
        <li>Tap to place the scary house in your space</li>
        <li>Walk around and explore! üëª</li>
      </ol>
    </div>

    <div class="warning">
      ‚ö†Ô∏è <strong>Warning:</strong> This experience contains jump scares and scary audio. Not recommended for young children or those with heart conditions.
    </div>
  </div>

  <audio id="amb" loop src="haunted-house-ambience-337104.mp3"></audio>
  <audio id="scream" src="794212__aksiny_soundeditor__monster-scream-2.wav"></audio>

  <script>
    const enableBtn = document.getElementById('enableAudio');
    const jumpBtn = document.getElementById('jumpscare');
    const amb = document.getElementById('amb');
    const scream = document.getElementById('scream');
    const audioControl = document.getElementById('audioControl');

    enableBtn.addEventListener('click', async () => {
      try {
        await amb.play();
        enableBtn.textContent = '‚úì Audio Playing';
        enableBtn.style.background = 'linear-gradient(135deg,#00cc00,#008800)';
        audioControl.style.display = 'block';
      } catch(e) {
        console.warn('Autoplay blocked:', e);
        enableBtn.textContent = '‚ö†Ô∏è Tap Again to Enable';
      }
    });

    jumpBtn.addEventListener('click', () => {
      scream.currentTime = 0;
      scream.play();
      document.body.style.animation = 'shake 0.5s';
      setTimeout(() => document.body.style.animation = '', 500);
    });

    // Random ambient scares
    let lastScare = 0;
    document.addEventListener('touchstart', () => {
      const now = Date.now();
      if (now - lastScare > 3000 && Math.random() < 0.05) {
        lastScare = now;
        scream.currentTime = 0;
        scream.play();
      }
    });

    // Shake animation
    const style = document.createElement('style');
    style.textContent = '@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-10px)}75%{transform:translateX(10px)}}';
    document.head.appendChild(style);
  </script>
</body>
</html>
